[{"C:\\CODE\\Hacker-House\\client\\src\\index.js":"1","C:\\CODE\\Hacker-House\\client\\src\\reportWebVitals.js":"2","C:\\CODE\\Hacker-House\\client\\src\\main\\App.js":"3","C:\\CODE\\Hacker-House\\client\\src\\main\\MyFetchers.js":"4","C:\\CODE\\Hacker-House\\client\\src\\main\\UsersControllers\\Signup.js":"5","C:\\CODE\\Hacker-House\\client\\src\\main\\UsersControllers\\Login.js":"6","C:\\CODE\\Hacker-House\\client\\src\\main\\HomePage\\HomePostsContainer.js":"7","C:\\CODE\\Hacker-House\\client\\src\\main\\HomePage\\PostCreator.js":"8"},{"size":525,"mtime":1610978715067,"results":"9","hashOfConfig":"10"},{"size":375,"mtime":1610978715071,"results":"11","hashOfConfig":"10"},{"size":5743,"mtime":1612875582223,"results":"12","hashOfConfig":"10"},{"size":745,"mtime":1611577327770,"results":"13","hashOfConfig":"10"},{"size":8870,"mtime":1612701496103,"results":"14","hashOfConfig":"10"},{"size":5028,"mtime":1612365485829,"results":"15","hashOfConfig":"10"},{"size":6279,"mtime":1612866306591,"results":"16","hashOfConfig":"10"},{"size":9644,"mtime":1612875155116,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"14eiazv",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\CODE\\Hacker-House\\client\\src\\index.js",[],["36","37"],"C:\\CODE\\Hacker-House\\client\\src\\reportWebVitals.js",[],"C:\\CODE\\Hacker-House\\client\\src\\main\\App.js",["38"],"C:\\CODE\\Hacker-House\\client\\src\\main\\MyFetchers.js",[],"C:\\CODE\\Hacker-House\\client\\src\\main\\UsersControllers\\Signup.js",["39"],"import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n// import { myPostFetcher } from '../MyFetchers';\r\nimport Compressor from 'compressorjs';\r\nimport _get from 'lodash.get';\r\n// #############################\r\nimport Bottom from '../Style/images/bottom-line.svg';\r\nimport Top from '../Style/images/top-line.svg';\r\n\r\nclass SignUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Name: \"\",\r\n            Email: \"\",\r\n            Password: \"default_password\",\r\n            PasswordConfirmation: \"\",\r\n            ProfilePicture: \"\",\r\n            TheUserIsLogin: false,\r\n        };\r\n        this.uploadImage = this.uploadImage.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.deleteLastImage = this.deleteLastImage.bind(this);\r\n        // this.handleSignUp = this.handleSignUp.bind(this);\r\n    }\r\n    // ##################################################################\r\n    handleChange(e) {\r\n        const theFormName = e.target.name;\r\n        const theFormValue = e.target.value.trim();\r\n        this.setState({\r\n            [theFormName]: theFormValue.replace(/(\\n)+/g, \"\\n\"),\r\n        });\r\n    }\r\n    // ##################################################################\r\n    handleChange(e) {\r\n        const theFormName = e.target.name;\r\n        const theFormValue = e.target.value;\r\n        this.setState({\r\n            [theFormName]: theFormValue,\r\n        });\r\n\r\n    }\r\n    // ##################################################################\r\n    async deleteLastImage() {\r\n        let imageName = document.querySelector(\r\n            \"#image-name\"\r\n        );\r\n        imageName.innerHTML = \"\"\r\n        document.querySelector(\".profilePicture-container\").style.backgroundImage = \"\";\r\n        await document.getElementById(\"hidden_file_input\").click();\r\n        let ProfilePictureToDelete = await document.querySelector(\r\n            \"#image-id-to-delete\"\r\n        ).innerHTML\r\n\r\n        if (ProfilePictureToDelete !== \"\") {\r\n            fetch(`/files/${ProfilePictureToDelete}`, {\r\n                method: \"delete\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json; charset=utf-8\",\r\n                },\r\n            });\r\n        }\r\n    }\r\n    // ##################################################################\r\n    async uploadImage() {\r\n        const allFileInfos = document.getElementById(\"hidden_file_input\");\r\n        // Compressor for compress my files before send in db\r\n        await new Compressor(allFileInfos.files[0], {\r\n            quality: 0.1,\r\n            async success(result) {\r\n                const formData = new FormData();\r\n                formData.append(\"file\", result);\r\n                // #######################\r\n                let response = await fetch(\"/upload\", {\r\n                    method: \"post\",\r\n                    body: formData,\r\n                });\r\n                // #######################\r\n                let pictureInServer = await response.json();\r\n                let theFile = await _get(pictureInServer, \"file.filename\");\r\n                let theFileId = await _get(pictureInServer, \"file.id\");\r\n                if ((theFile !== undefined) & (theFileId !== undefined)) {\r\n                    document.querySelector(\r\n                        \".profilePicture-container\"\r\n                    ).style.backgroundImage = `url(image/${theFile})`;\r\n                    // i can`t access to setState in this scop , so i put images infos in Html \r\n                    document.querySelector(\r\n                        \"#image-name\"\r\n                    ).innerHTML = theFile;\r\n                    document.querySelector(\r\n                        \"#image-id-to-delete\"\r\n                    ).innerHTML = theFileId;\r\n                }\r\n            },\r\n            error(err) {\r\n                console.log(err.message);\r\n            },\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"signUp-container\">\r\n                    <div className=\"signUp-container-at-right\">\r\n\r\n                        <div className=\"signUp-box\">\r\n                            {/* the Picture form */}\r\n                            <form\r\n                                className=\"fileInput\"\r\n                                method=\"post\"\r\n                                encType=\"multipart/form-data\"\r\n                            >\r\n                                <input\r\n                                    type=\"file\"\r\n                                    id=\"hidden_file_input\"\r\n                                    name=\"file\"\r\n                                    accept=\"image/*\"\r\n                                    onChange={this.uploadImage}\r\n                                />\r\n                            </form>\r\n                            {/* the Forms */}\r\n                            <form className=\"forms-container\"\r\n                            // onSubmit={this.handleSignUp}\r\n                            >\r\n                                <div className=\"container-for-profilePicture-container\">\r\n\r\n                                    <div className=\"profilePicture-container\" onClick={this.deleteLastImage}>\r\n                                    </div>\r\n                                </div>\r\n                                <br />\r\n                                <div className=\"form-container\">\r\n                                    <Form\r\n                                        type=\"text\"\r\n                                        name=\"Name\"\r\n                                        onchange={this.handleChange}\r\n                                        maxLength={18}\r\n                                        minLength={5}\r\n                                    />\r\n                                </div>\r\n                                <br />\r\n                                <div className=\"form-container\">\r\n                                    <Form type=\"email\" name=\"Email\" onchange={this.handleChange} />\r\n                                </div>\r\n                                <br />\r\n                                <div className=\"form-container form-container-last\">\r\n                                    <Form\r\n                                        type=\"password\"\r\n                                        name=\"Password\"\r\n                                        onchange={this.handleChange}\r\n                                        maxLength={20}\r\n                                        minLength={5}\r\n                                    />\r\n                                    <br />\r\n                                    <Form\r\n                                        type=\"password\"\r\n                                        name=\"PasswordConfirmation\"\r\n                                        onchange={this.handleChange}\r\n                                    />\r\n\r\n                                </div>\r\n                                <br />\r\n                                <div className=\"btn_container\">\r\n                                    <button type=\"submit\" className=\"btn\">\r\n                                        Send\r\n                                     </button>\r\n                                </div>\r\n                            </form>\r\n                            <div className=\"switch\">\r\n                                I have an account\r\n                                <Link to=\"/login\">\r\n                                    <button type=\"submit\" className=\"btn btn-warning mt-1\">\r\n                                        Login\r\n                                    </button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <img src={Top} className=\"top-line\" alt=\"top-line\" />\r\n                    <img src={Bottom} className=\"bottom-line\" alt=\"bottom-line\" />\r\n                </div>\r\n                <div className=\"hidden\" id=\"image-name\"></div>\r\n                <div className=\"hidden\" id=\"image-id-to-delete\"></div>\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nexport const Form = ({ type, name, onchange, maxLength, minLength }) => {\r\n    return (\r\n        <div>\r\n            {name !== \"PasswordConfirmation\" ? (\r\n                <label htmlFor={name}>{name}</label>\r\n            ) : (\r\n                    <label htmlFor={name}>Confirmation</label>\r\n                )}\r\n\r\n            <input\r\n                required\r\n                type={type}\r\n                name={name}\r\n                id={name}\r\n                className=\"forms\"\r\n                maxLength={maxLength}\r\n                minLength={minLength}\r\n                onChange={onchange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default SignUp;\r\n","C:\\CODE\\Hacker-House\\client\\src\\main\\UsersControllers\\Login.js",[],"C:\\CODE\\Hacker-House\\client\\src\\main\\HomePage\\HomePostsContainer.js",["40"],"C:\\CODE\\Hacker-House\\client\\src\\main\\HomePage\\PostCreator.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":8,"column":50,"nodeType":"47","messageId":"48","endLine":8,"endColumn":54},{"ruleId":"49","severity":1,"message":"50","line":35,"column":5,"nodeType":"51","messageId":"52","endLine":42,"endColumn":6},{"ruleId":"53","severity":1,"message":"54","line":32,"column":31,"nodeType":"55","messageId":"56","endLine":32,"endColumn":33},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","no-dupe-class-members","Duplicate name 'handleChange'.","MethodDefinition","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-global-assign","no-unsafe-negation"]